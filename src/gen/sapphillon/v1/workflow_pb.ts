// Copyright 2025 Yuta Takahashi
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// @generated by protoc-gen-es v2.7.0 with parameter "target=ts"
// @generated from file sapphillon/v1/workflow.proto (package sapphillon.v1, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import { enumDesc, fileDesc, messageDesc } from "@bufbuild/protobuf/codegenv2";
import type { Timestamp } from "@bufbuild/protobuf/wkt";
import { file_google_protobuf_timestamp } from "@bufbuild/protobuf/wkt";
import type { AllowedPermission } from "./permission_pb";
import { file_sapphillon_v1_permission } from "./permission_pb";
import type { PluginPackage } from "./plugin_pb";
import { file_sapphillon_v1_plugin } from "./plugin_pb";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file sapphillon/v1/workflow.proto.
 */
export const file_sapphillon_v1_workflow: GenFile = /*@__PURE__*/
  fileDesc("ChxzYXBwaGlsbG9uL3YxL3dvcmtmbG93LnByb3RvEg1zYXBwaGlsbG9uLnYxIoADCgxXb3JrZmxvd0NvZGUSCgoCaWQYASABKAkSFQoNY29kZV9yZXZpc2lvbhgCIAEoBRIMCgRjb2RlGAMgASgJEjEKCGxhbmd1YWdlGAQgASgOMh8uc2FwcGhpbGxvbi52MS5Xb3JrZmxvd0xhbmd1YWdlEi4KCmNyZWF0ZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi0KBnJlc3VsdBgGIAMoCzIdLnNhcHBoaWxsb24udjEuV29ya2Zsb3dSZXN1bHQSNQoPcGx1Z2luX3BhY2thZ2VzGAggAygLMhwuc2FwcGhpbGxvbi52MS5QbHVnaW5QYWNrYWdlEhsKE3BsdWdpbl9mdW5jdGlvbl9pZHMYCSADKAkSPQoTYWxsb3dlZF9wZXJtaXNzaW9ucxgKIAMoCzIgLnNhcHBoaWxsb24udjEuQWxsb3dlZFBlcm1pc3Npb25KBAgHEAhSFHJlcXVpcmVkX3Blcm1pc3Npb25zIo4CCg5Xb3JrZmxvd1Jlc3VsdBIKCgJpZBgBIAEoCRIUCgxkaXNwbGF5X25hbWUYAiABKAkSEwoLZGVzY3JpcHRpb24YAyABKAkSDgoGcmVzdWx0GAQgASgJEioKBnJhbl9hdBgFIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASNgoLcmVzdWx0X3R5cGUYBiABKA4yIS5zYXBwaGlsbG9uLnYxLldvcmtmbG93UmVzdWx0VHlwZRIRCglleGl0X2NvZGUYByABKAUSIAoYd29ya2Zsb3dfcmVzdWx0X3JldmlzaW9uGAkgASgFSgQICBAJUhZ3b3JrZmxvd19jb2RlX3JldmlzaW9uIsoCCghXb3JrZmxvdxIKCgJpZBgBIAEoCRIUCgxkaXNwbGF5X25hbWUYAiABKAkSEwoLZGVzY3JpcHRpb24YAyABKAkSOgoRd29ya2Zsb3dfbGFuZ3VhZ2UYBCABKA4yHy5zYXBwaGlsbG9uLnYxLldvcmtmbG93TGFuZ3VhZ2USMgoNd29ya2Zsb3dfY29kZRgFIAMoCzIbLnNhcHBoaWxsb24udjEuV29ya2Zsb3dDb2RlEi4KCmNyZWF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYByABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEjcKEHdvcmtmbG93X3Jlc3VsdHMYCCADKAsyHS5zYXBwaGlsbG9uLnYxLldvcmtmbG93UmVzdWx0KnkKEFdvcmtmbG93TGFuZ3VhZ2USIQodV09SS0ZMT1dfTEFOR1VBR0VfVU5TUEVDSUZJRUQQABIgChxXT1JLRkxPV19MQU5HVUFHRV9UWVBFU0NSSVBUEAESIAocV09SS0ZMT1dfTEFOR1VBR0VfSkFWQVNDUklQVBACKmQKEldvcmtmbG93UmVzdWx0VHlwZRIsCihXT1JLRkxPV19SRVNVTFRfVFlQRV9TVUNDRVNTX1VOU1BFQ0lGSUVEEAASIAocV09SS0ZMT1dfUkVTVUxUX1RZUEVfRkFJTFVSRRABYgZwcm90bzM", [file_google_protobuf_timestamp, file_sapphillon_v1_permission, file_sapphillon_v1_plugin]);

/**
 * Represents a specific revision of workflow source code and metadata.
 *
 * Fields:
 * - id: Stable identifier of the workflow code entity.
 * - code_revision: Monotonic integer representing the code version within the workflow.
 * - code: The source code text.
 * - language: The language of the code.
 * - created_at: Timestamp when this code revision was created.
 * - result: Optional preview or last run result associated with this code revision.
 * - required_permissions: Permissions required to run this code (declared by the author).
 *
 * Notes:
 * - code_revision should increase by 1 for each new revision of the same workflow.
 * - required_permissions should be kept minimal and specific to support principle of least privilege.
 *
 * @generated from message sapphillon.v1.WorkflowCode
 */
export type WorkflowCode = Message<"sapphillon.v1.WorkflowCode"> & {
  /**
   * Stable identifier of the workflow code entity.
   * Format: UUID.
   *
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * Monotonic integer representing the code version within the workflow.
   * Behavior: Required. Starts at 1 and increments with each change.
   *
   * @generated from field: int32 code_revision = 2;
   */
  codeRevision: number;

  /**
   * The workflow source code.
   *
   * @generated from field: string code = 3;
   */
  code: string;

  /**
   * The programming language of the source code.
   *
   * @generated from field: sapphillon.v1.WorkflowLanguage language = 4;
   */
  language: WorkflowLanguage;

  /**
   * Creation time of this code revision.
   *
   * @generated from field: google.protobuf.Timestamp created_at = 5;
   */
  createdAt?: Timestamp;

  /**
   * Optional result previews or cached outputs associated with this code revision.
   * Behavior: Optional. May be empty when no run has occurred. Can store multiple results.
   *
   * @generated from field: repeated sapphillon.v1.WorkflowResult result = 6;
   */
  result: WorkflowResult[];

  /**
   * Plugin packages that this workflow code depends on.
   * This allows the workflow to use functions defined in these plugins.
   *
   * @generated from field: repeated sapphillon.v1.PluginPackage plugin_packages = 8;
   */
  pluginPackages: PluginPackage[];

  /**
   * Plugin functions that this workflow code directly uses.
   *
   * @generated from field: repeated string plugin_function_ids = 9;
   */
  pluginFunctionIds: string[];

  /**
   * Allowed permissions for this workflow code.
   *
   * @generated from field: repeated sapphillon.v1.AllowedPermission allowed_permissions = 10;
   */
  allowedPermissions: AllowedPermission[];
};

/**
 * Describes the message sapphillon.v1.WorkflowCode.
 * Use `create(WorkflowCodeSchema)` to create a new message.
 */
export const WorkflowCodeSchema: GenMessage<WorkflowCode> = /*@__PURE__*/
  messageDesc(file_sapphillon_v1_workflow, 0);

/**
 * Captures the result of running a workflow at a specific code revision.
 *
 * Fields:
 * - id: Identifier of the result record.
 * - display_name: Human-friendly name for UIs (e.g., "Nightly Run 2025-08-05").
 * - description: Summary of the execution and relevant details.
 * - result: Raw result payload or textual summary.
 * - ran_at: Time the execution completed.
 * - result_type: Success or failure classification.
 * - exit_code: Process exit code when applicable (0 for success).
 * - workflow_code_revision: The code revision that produced this result.
 * - workflow_result_revision: Monotonic revision of this result record itself.
 *
 * TODO: Add structured data types for results (logs, metrics, artifacts).
 *
 * @generated from message sapphillon.v1.WorkflowResult
 */
export type WorkflowResult = Message<"sapphillon.v1.WorkflowResult"> & {
  /**
   * Identifier of the result record.
   * Format: UUID.
   *
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * Human-friendly name for display.
   *
   * @generated from field: string display_name = 2;
   */
  displayName: string;

  /**
   * Summary of the execution and relevant details.
   *
   * @generated from field: string description = 3;
   */
  description: string;

  /**
   * Raw result payload or textual summary of the run.
   *
   * @generated from field: string result = 4;
   */
  result: string;

  /**
   * Time the execution completed.
   *
   * @generated from field: google.protobuf.Timestamp ran_at = 5;
   */
  ranAt?: Timestamp;

  /**
   * Success or failure classification.
   *
   * @generated from field: sapphillon.v1.WorkflowResultType result_type = 6;
   */
  resultType: WorkflowResultType;

  /**
   * Process exit code when applicable (0 for success).
   *
   * @generated from field: int32 exit_code = 7;
   */
  exitCode: number;

  /**
   * Monotonic revision of this result record.
   *
   * @generated from field: int32 workflow_result_revision = 9;
   */
  workflowResultRevision: number;
};

/**
 * Describes the message sapphillon.v1.WorkflowResult.
 * Use `create(WorkflowResultSchema)` to create a new message.
 */
export const WorkflowResultSchema: GenMessage<WorkflowResult> = /*@__PURE__*/
  messageDesc(file_sapphillon_v1_workflow, 1);

/**
 * Represents a workflow entity including its code history and execution results.
 *
 * Fields:
 * - id: Stable identifier for the workflow.
 * - display_name: Human-readable name.
 * - description: Purpose and summary of the workflow.
 * - workflow_language: Preferred or primary language used by this workflow.
 * - workflow_code: History of code revisions (latest may be last element or determined externally).
 * - created_at: Time the workflow was created.
 * - updated_at: Time the workflow was last modified.
 * - workflow_results: Historical execution results for this workflow.
 *
 * Notes:
 * - Keep workflow_code revisions append-only to preserve history.
 *
 * @generated from message sapphillon.v1.Workflow
 */
export type Workflow = Message<"sapphillon.v1.Workflow"> & {
  /**
   * Stable identifier for the workflow.
   * Format: UUID.
   *
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * Human-readable name for the workflow.
   *
   * @generated from field: string display_name = 2;
   */
  displayName: string;

  /**
   * Description of the workflow's purpose and behavior.
   *
   * @generated from field: string description = 3;
   */
  description: string;

  /**
   * Preferred or primary language used by this workflow.
   *
   * @generated from field: sapphillon.v1.WorkflowLanguage workflow_language = 4;
   */
  workflowLanguage: WorkflowLanguage;

  /**
   * History of workflow code revisions.
   *
   * @generated from field: repeated sapphillon.v1.WorkflowCode workflow_code = 5;
   */
  workflowCode: WorkflowCode[];

  /**
   * Creation time of the workflow.
   *
   * @generated from field: google.protobuf.Timestamp created_at = 6;
   */
  createdAt?: Timestamp;

  /**
   * Last update time of the workflow.
   *
   * @generated from field: google.protobuf.Timestamp updated_at = 7;
   */
  updatedAt?: Timestamp;

  /**
   * Historical execution results for this workflow.
   *
   * @generated from field: repeated sapphillon.v1.WorkflowResult workflow_results = 8;
   */
  workflowResults: WorkflowResult[];
};

/**
 * Describes the message sapphillon.v1.Workflow.
 * Use `create(WorkflowSchema)` to create a new message.
 */
export const WorkflowSchema: GenMessage<Workflow> = /*@__PURE__*/
  messageDesc(file_sapphillon_v1_workflow, 2);

/**
 * Enumerates supported workflow source languages.
 * Used to indicate the language of WorkflowCode.code.
 *
 * @generated from enum sapphillon.v1.WorkflowLanguage
 */
export enum WorkflowLanguage {
  /**
   * Default value. Do not use.
   *
   * @generated from enum value: WORKFLOW_LANGUAGE_UNSPECIFIED = 0;
   */
  UNSPECIFIED = 0,

  /**
   * TypeScript source code.
   *
   * @generated from enum value: WORKFLOW_LANGUAGE_TYPESCRIPT = 1;
   */
  TYPESCRIPT = 1,

  /**
   * JavaScript source code.
   *
   * @generated from enum value: WORKFLOW_LANGUAGE_JAVASCRIPT = 2;
   */
  JAVASCRIPT = 2,
}

/**
 * Describes the enum sapphillon.v1.WorkflowLanguage.
 */
export const WorkflowLanguageSchema: GenEnum<WorkflowLanguage> = /*@__PURE__*/
  enumDesc(file_sapphillon_v1_workflow, 0);

/**
 * Classifies the outcome of a workflow execution.
 * Values:
 * - WORKFLOW_RESULT_TYPE_SUCCESS_UNSPECIFIED: Execution completed successfully.
 * - WORKFLOW_RESULT_TYPE_FAILURE: Execution failed (see exit_code and description).
 *
 * @generated from enum sapphillon.v1.WorkflowResultType
 */
export enum WorkflowResultType {
  /**
   * Execution completed successfully.
   *
   * @generated from enum value: WORKFLOW_RESULT_TYPE_SUCCESS_UNSPECIFIED = 0;
   */
  SUCCESS_UNSPECIFIED = 0,

  /**
   * Execution failed.
   *
   * @generated from enum value: WORKFLOW_RESULT_TYPE_FAILURE = 1;
   */
  FAILURE = 1,
}

/**
 * Describes the enum sapphillon.v1.WorkflowResultType.
 */
export const WorkflowResultTypeSchema: GenEnum<WorkflowResultType> = /*@__PURE__*/
  enumDesc(file_sapphillon_v1_workflow, 1);

