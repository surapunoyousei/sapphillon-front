### 概要 (Overview)

このプロジェクトは、**「OS と Web ブラウザを統合したローカル LLM 支援型オペレーティングプラットフォームの開発」**と題されています。共同提案者は User 凌輔氏、髙橋侑大氏、鮎澤颯人氏です。

プロジェクトの核心的な目標は、**「PC 体験の再発明」**と**「Web と OS の壁を破壊する唯一無二の存在」**を目指すことです。

**開発の背景と課題認識:**

- 今日のウェブブラウザは HTML5 や JavaScript の普及により、動画視聴、ゲーム、オフィス作業など、日常生活のほとんどの作業を完結させる広義の「オペレーティングシステム」としての役割を担いつつあります。
- しかし、現在のウェブブラウザはコンピュータ内のファイルや周辺機器へのアクセスが限定的であり、セキュリティ上の理由からローカル OS とは意図的に分離されています。これにより、ローカルアプリケーションとウェブブラウザ上のアプリケーションが分断され、ユーザー体験の一貫性が損なわれています。OS のタスクバーと Web ブラウザーのタブバーが同じ役割を果たすなど、重複も発生しています。
- 大規模言語モデル（LLM）もクラウド型が主流であり、ユーザーデータがクラウドにアップロードされることによる**セキュリティ・プライバシーの懸念**や、高度な自動化が難しいという課題があります。企業や団体では機密情報漏洩のリスクから LLM 導入に慎重な場合が多いです。

**提案される解決策とコンセプト：**

- これらの分断を解決し、ローカルオペレーティングシステム環境とウェブブラウザ環境を一つに統合した**「Operation Software（Operation Software の略称である Floorp Automated Operation Software、通称 Floorp OS）」**という新たなプラットフォームの概念と、その開発が提案されています。
- **Floorp OS**は、**ウェブブラウザーをインターフェース**とし、**「分断」のない統合型「OS」**を目指します。従来の OS がハードウェアとソフトウェアを管理する基盤であるのに対し、Floorp OS はウェブブラウザが OS やウェブに対して指示を出すことで、操作の一貫性を生み出す次世代のプラットフォームと位置付けられています。
- **ローカル LLM を組み込み**、自然言語による操作で OS に対する全てを完結させることを目指します。これにより、情報を外部に送信することなくローカルのみで処理できるため、情報漏洩リスクの削減とコスト削減に貢献します。
- このプロジェクトは**オープンソースプロジェクト**として誰もがアクセスできる「規格」として公開される予定です。

**差別化と期待される効果:**

- Floorp OS は、既存の AI 統合 Web ブラウザとは異なり、**「PC 体験そのものの再発明」と「Web と OS の壁を破壊する唯一無二の存在」**を目指します。
- ChromeOS などがウェブを中心にデスクトップアプリケーションをウェブアプリに置き換えるアプローチとは異なり、Floorp OS はウェブブラウザを中心にしながらも、ローカル環境とウェブ環境の完全な統合を実現し、AI を最大限に活用できる**オープンなプラットフォーム**である点が最大の特徴です。
- Apple や Google が提供する閉鎖的な環境とは異なり、どの OS でも動作し、ユーザーが自由にカスタマイズできる**真の「Portable AI Operation Software」**として機能します。
- Microsoft Copilot が Edge、Windows、Office と分散しているのに対し、Floorp OS はウェブブラウザ専用の統合型インターフェースを持ちます.
- **具体的な利用例**としては、高齢者や IT に不慣れなユーザーが自然言語でコンピュータを簡単に扱えるようにする、研究・教育機関や生成 AI のセキュリティに懐疑的な企業がローカル LLM により機密データを安全に扱う、オフライン環境での AI 活用などが挙げられます。
- これにより、安全な AI 活用、業務効率化、デジタル格差の解消を実現し、社会全体の生産性向上に貢献する次世代プラットフォームとなることが期待されています。また、情報の「分散化」と「デジタル主権」の確立を目指し、ユーザーが自律的に情報にアクセスできるオープンな情報空間の実現に貢献します。

---

### 技術的詳細 (Technical Details)

Floorp OS は、**ウェブブラウザとローカルオペレーティングシステムの機能を統合**し、従来のオペレーティングシステムの枠組みを超えた新しいプラットフォームを提供するものです。

**1. 技術基盤としての Floorp ブラウザ:**

- プロジェクトは、**User 凌輔氏が所有・開発している「Floorp ブラウザ」**を基盤としています。
- Floorp ブラウザは**Firefox ベース**であり、柔軟な UI、様々な追加機能を持つオープンソースのブラウザです。
- 月間アクティブユーザー数は約 10 万人、GitHub では 7.5k のスターを獲得しており、著名なメディアでも紹介されています。
- Floorp の新メジャーバージョンは 8 月 7 日に一般公開予定で、その後 Floorp ブラウザを基盤に Floorp OS の開発が進められます。

**2. 全体構成とコンポーネント:**

- Floorp OS は、**「Floorp Web Browser」**と**「Sapphillon」**によって構成されます。
- **フロントエンド:** Floorp Web Browser
  - Floorp UI や Sapphillon Worker を通じてバックエンドとの橋渡しを行います。
  - Floorp OS の UI となる Floorp Home App を提供します。
- **バックエンド:** Sapphillon
  - オペレーティングシステムとの連携、Web API の活用、ローカル LLM を用いたワークフローの生成・実行を行います。
  - 主に以下の 4 つのコンポーネントで構成されます:
    - **Controller:** 全体のタスク管理、プラグイン管理、コンポーネント間の通信を行い、ワークフローが使用するプラグインやアクセス先を記録・制御します.
    - **Automator:** ワークフローの実行を担当します。JavaScript V8 を使用した Deno ベースのカスタムランタイムとして実装される予定です.
    - **Worker:** Floorp Web Browser との接続を行います.
    - **Language Engine:** ローカル LLM を動作させ、LLM API を提供します. 精度向上のために RAG（Retrieval-Augmented Generation）やベクトルデータベースを活用します.

**3. ローカル LLM の統合:**

- ユーザーがファイルを LLM に読み込ませたり、アプリケーションを連携する際にユーザーデータがアップロードされるクラウド LLM の懸念を解決するため、**ローカルで動作する LLM プラットフォーム**の需要に応えます。
- 現在使用予定またはデモで使用されたローカル LLM モデル名として、**Gemma、Llama、Mistral、DeepSeek**が挙げられています。デモでは**gemma-3n-E4B**が使用されました。
- 情報は外部に送信されず、ローカルのみで処理されるため、情報漏洩リスクを削減できます。

**4. Web と OS の融合と操作性:**

- **Web ブラウザをインターフェース**として、OS のタスクバーと Web ブラウザのタブバーのような重複を解消し、Web と OS の連携を強化します。
- ユーザーがローカルとウェブの違いを意識せずに作業できる環境を提供します。例えば、ローカルファイルをウェブブラウザ上で直接編集したり、ウェブアプリとローカルアプリケーションを統合したワークフローを実行したりできます.
- Floorp OS は、**Web 操作系の API を提供**し、組み込みページの window オブジェクトに関数を追加します。提供されるデータには、履歴、ブックマーク、Cookie、開いているタブ、ウェブページのデータなどが含まれます.
- 自然言語インターフェースでシステム全体を操作できることを目指します。

**5. ワークフローの生成と実行:**

- ユーザーが Floorp OS に指示する方法は 2 つあります:
  1.  **あらかじめ定義された自動化ワークフローの実行**
  2.  **ユーザーの指示に基づいて LLM がワークフローを作成し、それを実行**
- ユーザーがプロンプトを入力すると、ブラウザ内のインターフェースを通じて Sapphillon Worker にリクエストが送信されます。
- Sapphillon はプロンプトからユーザーの意図を解析し、LLM を通してインストール済みのプラグインを確認しつつワークフローを生成します。
- Floorp OS のプラグインは、ウェブブラウザの操作、ウェブの操作、オペレーティングシステムの操作などの API を関数として利用可能であり、Sapphillon はこれらの関数の組み合わせによってワークフローを組み立てます。
- ワークフロー作成後、ユーザーに実行内容が提示され、実行前の確認が求められます。

**6. プラグインシステム:**

- ユーザーや開発者が LLM エージェントに対して独自の機能拡張を行える**プラグインシステム**が導入されます。
- これにより、アプリケーションストアを通じて様々なベンダーのソフトウェアや IoT 機器の機能を LLM を通じて利用できるようにすることを目指しています。
- セキュリティを確保するため、プラグインは**サンドボックス環境内でワークフローの一関数として細かく権限を管理しながら実行**されます。
- 提供されるプラグインは以下の 3 種類です:
  - **Plugin Kit:** ユーザーが実際に操作する UI とワークフローの例を提供します.
  - **Tool Kit:** ワークフロー実行時に利用できる関数（ツール）を提供し、OS、ウェブブラウザ、LLM を操作する API を含みます.
  - **Schedule Kit:** ワークフローを定期実行する機能を提供します.

**7. デモ: Floorp Search:**

- プロジェクトの基盤となる技術要素が実現可能であることを示すために、ウェブとオペレーティングシステムを横断する検索エンジン「Floorp Search」がデモとして実装されました。
- Floorp Search には以下の 3 つの機能が実装されています:
  1.  **Fast Search:** DuckDuckGo の API を利用し、検索結果を即座に取得・表示.
  2.  **AI Search:** 検索結果をローカル LLM で要約し、情報を簡潔に整理.
  3.  **ローカルファイル検索:** オペレーティングシステム上のファイルを検索し、結果を取得.
- このデモは、「ウェブとオペレーティングシステムの統合」「ローカル LLM の活用」「横断的な情報検索と処理」という Floorp OS の根幹となる 3 要素が成立していることを示しています。

**8. 開発計画と技術スタック:**

- **ソースコード**はすべて、オープンソースライセンスである**Mozilla Public License 2.0**でライセンスされ、配布されます.
- **開発言語:** Floorp Home App には XUL+TypeScript（React、Solid）が、Sapphillon には Python + Rust + TypeScript が使用されます.
- **開発ツール:** バージョン管理に Git、ソースコードホストに GitHub、パイプラインに GitHub Actions/BuildJet が使用されます.
- **対象 OS:** Apple macOS (ARM)、Linux (ARM64 & AMD64)、Microsoft Windows 11 (ARM & AMD64).
- **開発手法:** アジャイル開発を採用し、ユニットテストを積極的に取り入れる予定です.
- **公開計画:** 現在開発中の Floorp 12（来年夏正式公開予定）に続き、Floorp OS は**Floorp 13 の新機能**として一般公開を目指しており、Floorp 12 リリース翌年冬に公開が予定されています。Floorp 12 リリース後のポイントリリースにおいて、Floorp OS のベータ版が搭載され、ユーザーからのフィードバックを受けて機能改善が行われる予定です。
